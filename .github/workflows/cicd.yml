deploy:
  needs: build
  runs-on: self-hosted
  steps:
    - name: Pull Docker image
      run: docker pull hunderedacress/100acressfront:latest

    - name: Check for existing container
      run: docker ps -a

    - name: Stop and Remove Old Container
      run: |
        docker stop hundredacress-frontend-container || echo "No container to stop"
        docker rm hundredacress-frontend-container || echo "No container to remove"

    - name: Run New Container
      run: |
        docker run -d -p 3000:80 --name hundredacress-frontend-container hunderedacress/100acressfront:latest

    - name: Check Running Containers
      run: docker ps
